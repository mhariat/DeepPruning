### Docker commands

docker build --no-cache --build-arg CUDA_VERSION=10.0 --build-arg CUDNN_VERSION=7 -t mhariat/pruning .

docker run -v /local/ml/mhariat/cifar_100:/usr/share/bind_mount/data/cifar_100 \
           -v /local/ml/mhariat/cifar_10:/usr/share/bind_mount/data/cifar_10 \
           -v /local/ml/mhariat/dogs_cats:/usr/share/bind_mount/data/dogs_cats \
           -v /home/mhariat/DeepPruning:/usr/share/bind_mount/scripts/DeepPruning \
           --runtime nvidia \
           --name pruning \
           --net host \
           --ipc host \
           --init \
           --shm-size=2gb \
           -it mhariat/pruning

### Pruning commands

CUDA_VISIBLE_DEVICES=3 python /usr/share/bind_mount/scripts/DeepPruning/main_prune.py --config_path /usr/share/bind_mount/scripts/DeepPruning/config.json


### Original training commands

## cifar_10/100
CUDA_VISIBLE_DEVICES=1 python /usr/share/bind_mount/scripts/DeepPruning/main_original.py --network reskipnet \
                                                                                         --depth 32 \
                                                                                         --epochs 200 \
                                                                                         --lr 0.1 \
                                                                                         --bs 128 \
                                                                                         --num_workers 16 \
                                                                                         --momentum 0.9 \
                                                                                         --weight_decay 0.0005 \
                                                                                         --img_type png \
                                                                                         --resize 32 \
                                                                                         --alpha 0 \
                                                                                         --exp_name alpha_0 \
                                                                                         --result_dir /app/results \
                                                                                         --data_dir /usr/share/bind_mount/data/cifar_100


CUDA_VISIBLE_DEVICES=1 python /usr/share/bind_mount/scripts/DeepPruning/test_network.py
